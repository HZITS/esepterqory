<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<dom-module id="dashboard-add-topic-module">
    <template>
        <style include="shared-styles">
            .head{
                border-bottom: 2px solid var(--paper-grey-300);
                height: 40px;
                line-height: 40px;
                padding-left: 16px;
                padding-right: 16px
            }

            .body{
                background-color: white;
                padding: 16px;
                padding-top: 20px;
            }
            .wrapper{
                width: 400px;
                background-color: var(--paper-grey-200)
            }
        </style>
       <div class="wrapper">
           <div class="head layout horizontal justified">
               <div title>Новая подтема в [[topic.title]]</div>
           </div>
           <div class="body">
                <paper-input no-label-float label="Название темы" value="{{topicTitle}}"></paper-input>
                <div class="mainButton" on-click="add">Добавить</div>
           </div>
       </div>
    </template>
    <script>
        class DashboardAddTopicModule extends Polymer.Element {

            static get is() { return 'dashboard-add-topic-module' }

            static get properties() {
                return {
                    topic: Object
                }
            }

            static get observers() {
                return [
                ]
            }

            connectedCallback(){
                super.connectedCallback()
            }

            add(){ 

                ajax().post("/api/topics", {
                    path: this.topic.path,
                    title: this.topicTitle
                })
                .then( res => {
                    console.log(res)
                })
            }

        }
        customElements.define(DashboardAddTopicModule.is, DashboardAddTopicModule);
    </script>
</dom-module>