<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="article-module"><template><style include="shared-styles">:host{display:flex;flex-direction:column;}.head{flex:0 0 40px;line-height:40px;padding:0px 16px;color:var(--paper-grey-600);border-bottom:1px solid var(--paper-grey-300);background-color:var(--paper-grey-100);}.body{flex:1 1 auto;overflow:auto;padding:16px;}.edit{height:40px;margin-left:8px;cursor:pointer;}</style><div class="head layout horizontal justified"></div><div class="body"><template is="dom-if" if="[[data]]"><h2 class="title">[[article.title]]</h2><div id="article"></div></template></div></template><script>var DashboardarticleModule=function(_ReduxMixin){babelHelpers.inherits(DashboardarticleModule,_ReduxMixin);function DashboardarticleModule(){babelHelpers.classCallCheck(this,DashboardarticleModule);return babelHelpers.possibleConstructorReturn(this,(DashboardarticleModule.__proto__||Object.getPrototypeOf(DashboardarticleModule)).apply(this,arguments))}babelHelpers.createClass(DashboardarticleModule,[{key:"dataChanged",value:function dataChanged(data){var _this=this;if(!data)return;ajax().get("/api/articles/id/"+data._id).then(function(res){_this.article=res;_this.shadowRoot.querySelector("#article").innerHTML=res.article})}},{key:"edit",value:function edit(){this.$.articleDialog.open()}},{key:"delete",value:function _delete(){ajax().delete("/api/articles/id/"+this.article._id,{data:{path:this.article.path}}).then(function(){dispatcher.dispatch("reload-articles")})}}],[{key:"is",get:function get(){return"article-module"}},{key:"properties",get:function get(){return{data:{type:Object,statePath:"currentArticle",observer:"dataChanged"},article:Object}}}]);return DashboardarticleModule}(ReduxMixin(Polymer.Element));customElements.define(DashboardarticleModule.is,DashboardarticleModule);</script></dom-module><dom-module id="articles-cell-module"><template><style include="shared-styles">:host{padding:8px 16px;border-bottom:1px solid var(--paper-grey-300);}iron-icon{color:var(--paper-grey-600);}#des{padding:8px 0px;}#des:focus{outline:none;}.topic{background-color:var(--paper-grey-200);border-radius:4px;padding:2px 4px;color:var(--paper-grey-600);font-size:14px;}.title{font-weight:500;}.seen{font-size:11px;padding-top:8px;color:var(--paper-grey-500);}.seen iron-icon{color:var(--paper-grey-400);width:16px;margin-right:4px;}.date{font-size:12px;padding-top:8px;color:var(--paper-grey-500);}.dl{font-size:12px;color:var(--paper-grey-500);}</style><div class="wrapper"><div class="head layout horizontal justified"><div class="title">[[article.title]]</div><a class="dl" target="_blank" href$="/api/download/article/[[article._id]]">[[article.downloaded]]<iron-icon icon="icons:file-download"></iron-icon></a></div><div id="des"></div><template is="dom-repeat" items="[[article.topics]]"><a class="topic" href$="/articles/[[item._id]]">[[item.title]]</a></template><div class="seen layout horizontal center"><iron-icon icon="icons:visibility"></iron-icon>[[article.seen]]</div><div class="date">[[article.createdAt]]</div></div></template><script>var DashboardarticlesCellModule=function(_Polymer$Element){babelHelpers.inherits(DashboardarticlesCellModule,_Polymer$Element);function DashboardarticlesCellModule(){babelHelpers.classCallCheck(this,DashboardarticlesCellModule);return babelHelpers.possibleConstructorReturn(this,(DashboardarticlesCellModule.__proto__||Object.getPrototypeOf(DashboardarticlesCellModule)).apply(this,arguments))}babelHelpers.createClass(DashboardarticlesCellModule,[{key:"selectedChanged",value:function selectedChanged(s){s?this.style.backgroundColor="#f5f5f5":this.style.backgroundColor="white"}}],[{key:"is",get:function get(){return"articles-cell-module"}},{key:"properties",get:function get(){return{selected:{type:Object,observer:"selectedChanged"}}}}]);return DashboardarticlesCellModule}(Polymer.Element);customElements.define(DashboardarticlesCellModule.is,DashboardarticlesCellModule);</script></dom-module></div><dom-module id="articles-module"><template><style include="shared-styles"></style><dashboard-module><topics-tree-module title="articles" slot="section1"></topics-tree-module><section-module slot="section2" title="[[article.title]]" style="width:380px" max="37"><iron-list slot="list" id="articles" items="[[articles]]" selection-enabled="" selected-item="{{currentArticle}}"><template><articles-cell-module selected="[[selected]]" article="[[item]]"></articles-cell-module></template></iron-list><pages-module slot="footer" topic="[[topic]]" title="articles"></pages-module></section-module><article-module slot="section3"></article-module></dashboard-module></template><script>var ArticlesModule=function(_ReduxMixin){babelHelpers.inherits(ArticlesModule,_ReduxMixin);function ArticlesModule(){babelHelpers.classCallCheck(this,ArticlesModule);return babelHelpers.possibleConstructorReturn(this,(ArticlesModule.__proto__||Object.getPrototypeOf(ArticlesModule)).apply(this,arguments))}babelHelpers.createClass(ArticlesModule,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;babelHelpers.get(ArticlesModule.prototype.__proto__||Object.getPrototypeOf(ArticlesModule.prototype),"connectedCallback",this).call(this);dispatcher.subscribe("math-rendered",function(){_this.$.articles.notifyResize()})}},{key:"getArticles",value:function getArticles(topic,p,section){var _this2=this;if(!topic)return;if(!topic.path)return;if(!p)return;if("articles"!=section)return;this.pageDebouncer=Polymer.Debouncer.debounce(this.pageDebouncer,Polymer.Async.timeOut.after(100),function(){if(1<topic.path.split("/").length){_this2.article={title:"\u0422\u0435\u043E\u0440\u0438\u044F\u043B\u044B\u049B \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u0434\u0430\u0440"}}else{_this2.article=null}ajax().get("/api/articles/topic/"+topic._id+"/"+p).then(function(res){_this2.articles=res})})}},{key:"currentArticleChanged",value:function currentArticleChanged(article){this.dispatch({type:"currentArticle",value:article})}}],[{key:"is",get:function get(){return"articles-module"}},{key:"properties",get:function get(){return{article:Object,currentArticle:{type:Object,observer:"currentArticleChanged"},section:{type:Object,statePath:"section"},topic:{type:Object,statePath:"topic"},page:{type:Number,statePath:"page"}}}},{key:"observers",get:function get(){return["getArticles(topic, page, section)"]}}]);return ArticlesModule}(ReduxMixin(Polymer.Element));customElements.define(ArticlesModule.is,ArticlesModule);</script></dom-module></body></html>