!function(a,b){"use strict";"function"==typeof define&&define.amd?define("ajax",b):"object"==typeof exports?exports=module.exports=b():a.ajax=b()}(this,function(){"use strict";function b(a){return a=a||{},a.baseUrl=a.baseUrl||"",a.method&&a.url?h(a.method,a.baseUrl+a.url,g(a.data),a):["get","post","put","delete"].reduce(function(b,c){return b[c]=function(b,d){return h(c,a.baseUrl+b,g(d),a)},b},{})}function g(a){return a||null}function h(a,b,e,g){var h=["then","catch","always"].reduce(function(a,b){return a[b]=function(c){return a[b]=c,a},a},{}),i=new XMLHttpRequest,f=j(b,e,a);return i.open(a,f,!0),i.withCredentials=g.hasOwnProperty("withCredentials"),k(i,g.headers),i.addEventListener("readystatechange",m(h,i),!1),i.send(c(e)),h.abort=function(){return i.abort()},h}function j(a,b,d){if("get"!==d.toLowerCase()||!b)return a;var e=c(b),f=-1<a.indexOf("?")?"&":"?";return a+f+e}function k(a,b){b=b||{},l(b)||(b["Content-Type"]="application/x-www-form-urlencoded"),Object.keys(b).forEach(function(c){b[c]&&a.setRequestHeader(c,b[c])})}function l(a){return Object.keys(a).some(function(a){return"content-type"===a.toLowerCase()})}function m(b,c){return function d(){c.readyState===c.DONE&&(c.removeEventListener("readystatechange",d,!1),b.always.apply(b,a(c)),200<=c.status&&300>c.status?b.then.apply(b,a(c)):b["catch"].apply(b,a(c)))}}function a(a){var b;try{b=JSON.parse(a.responseText)}catch(c){b=a.responseText}return[b,a]}function c(a){return n(a)?i(a):a}function n(a){return"[object Object]"===Object.prototype.toString.call(a)}function i(a){return Object.keys(a).reduce(function(b,c){var d=b?b+"&":"";return d+f(c)+"="+f(a[c])},"")}function f(a){return encodeURIComponent(a)}return b});